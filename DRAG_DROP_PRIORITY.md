# Функциональность Drag-and-Drop для изменения приоритетов заказов

## Описание
Реализована возможность изменения приоритетов заказов в модуле "Планирование заказов" с помощью перетаскивания (drag-and-drop).

## Как это работает

### Отображение
- Заказы отображаются в порядке приоритета (от 1 до N)
- Добавлена колонка "Порядок" с иконкой перетаскивания
- Заказы автоматически сортируются по полю `priority`

### Перетаскивание
1. Пользователь захватывает заказ за иконку перетаскивания (⋮⋮)
2. Перетаскивает заказ на новую позицию в списке
3. При отпускании заказ занимает новую позицию
4. Автоматически отправляется PATCH запрос на сервер для обновления приоритета

### API интеграция
- **Endpoint**: `PATCH /production-orders/{id}/priority`
- **Тело запроса**: `{ "priority": number }`
- **Ответ**: Полный объект обновленного заказа

## Технические детали

### Используемые библиотеки
- `@dnd-kit/core` - основная функциональность drag-and-drop
- `@dnd-kit/sortable` - сортируемые списки
- `@dnd-kit/utilities` - утилиты для трансформаций

### Новые компоненты
- `SortableOrderRow` - перетаскиваемая строка заказа
- Обновленный `OrderPlanning` с поддержкой DndContext

### Обновленные API методы
- `orderManagementApi.updateOrderPriority()` - изменение приоритета заказа
- `useOrderManagement.updateOrderPriority()` - хук для изменения приоритета

### Обновленные типы данных
- `Order.priority?: number` - поле приоритета в интерфейсе заказа
- `OrderPlanningData.priority?: number` - поле приоритета в данных планирования

## Логика приоритетов
- Позиция 1 = priority: 1 (наивысший приоритет)
- Позиция 2 = priority: 2
- И так далее...
- При перетаскивании новый приоритет = новая позиция в списке

## Обработка ошибок
- При ошибке API запроса порядок заказов возвращается к исходному состоянию
- Ошибки логируются в консоль
- Пользователь видит визуальную обратную связь во время перетаскивания

## Стили
- Добавлены CSS классы для drag-and-drop состояний
- Визуальная обратная связь при перетаскивании (opacity, rotation, shadow)
- Hover эффекты для иконки перетаскивания

## Адаптивность
- Функциональность работает на всех размерах экрана
- Сохранена совместимость с существующими стилями